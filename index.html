<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infinite Wordle</title>
<style>
:root{--tile-size:70px;}
html,body{height:100%;margin:0;}
body{
  font-family:"Arial Black", Arial, sans-serif;
  display:flex; flex-direction:column; align-items:center;
  min-height:100vh; color:white; overflow-x:hidden;
  background: linear-gradient(135deg, #004B4B 0%, #6A2C8C 33%, #00AFAF 66%, #6A2C8C 100%);
  background-size: 300% 300%; animation: gradientShift 24s ease-in-out infinite;
}
@keyframes gradientShift{
  0%{background-position:0% 50%;}
  33%{background-position:50% 50%;}
  66%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
h1 { margin:20px; font-size:2.4rem; letter-spacing:3px; text-shadow:2px 2px 12px rgba(0,0,0,0.7);}
#board { display:grid; grid-template-rows: repeat(6, 1fr); gap:12px; perspective:1000px; margin-bottom:12px; position: relative; z-index:1; }
.row { display:grid; grid-template-columns: repeat(5, 1fr); gap:12px; }
.tile { width:var(--tile-size); height:var(--tile-size); background:#333; display:flex; justify-content:center; align-items:center; font-size:30px; font-weight:bold; border-radius:12px; perspective:1000px; box-shadow:0 0 5px rgba(0,0,0,0.6); transition: transform 0.2s; }
.tile.keypress { transform: scale(1.2); }
.tile.pop { transform: scale(1.08); }
.inner { width:100%; height:100%; display:flex; justify-content:center; align-items:center; background:#333; border-radius:12px; transform-style:preserve-3d; transition: transform 0.62s cubic-bezier(.2,.9,.3,1), background 0.2s, box-shadow 0.2s; }
.inner.correct { background: #2ea44f; }
.inner.present { background: #c9b458; }
.inner.absent  { background: #5f6368; }
.inner.glow-correct { box-shadow:0 0 22px rgba(46,164,79,0.9); }
.inner.glow-present { box-shadow:0 0 22px rgba(201,180,88,0.95); }
.inner.glow-absent { box-shadow:0 0 14px rgba(95,99,104,0.9); }
.flipping { transform: rotateX(180deg); }
.letter { backface-visibility:hidden; transform: rotateX(0deg); user-select:none; }
#controls { margin-top:8px; margin-bottom:10px; z-index:1; }
#controls button { margin:6px; padding:10px 20px; border-radius:10px; border:none; font-weight:bold; background: rgba(0,0,0,0.35); color:white; cursor:pointer; transition: transform .18s, box-shadow .18s, background .18s; text-shadow: 1px 1px 3px rgba(0,0,0,0.6);}
#controls button:hover { transform: translateY(-3px) scale(1.03); box-shadow:0 0 18px rgba(255,255,255,0.12); background: rgba(255,255,255,0.06);}
#keyboard { margin-top:12px; display:flex; flex-direction:column; align-items:center; gap:6px; z-index:1; position:relative; }
.kb-row { display:flex; gap:6px; justify-content:center; }
.kb-row button { padding:10px 12px; border-radius:6px; border:none; background:#444; color:white; font-weight:bold; cursor:pointer; transition: transform .12s, box-shadow .12s, background .12s; }
.kb-row button:hover { transform: scale(1.06); box-shadow:0 0 12px rgba(255,255,255,0.08); background:#666; }
.kb-row button.wide { min-width:90px; padding-left:18px; padding-right:18px; }
@keyframes shakeScreen {0%{transform:translate(0,0) scale(1);}12%{transform:translate(-12px,8px) scale(1.02);}24%{transform:translate(10px,-8px) scale(0.98);}36%{transform:translate(-8px,8px) scale(1.01);}48%{transform:translate(10px,-8px) scale(1.03);}60%{transform:translate(-6px,6px) scale(0.97);}72%{transform:translate(6px,-6px) scale(1.02);}84%{transform:translate(-4px,4px) scale(1.01);}100%{transform:translate(0,0) scale(1);}}
.shakeBody { animation: shakeScreen 1200ms ease-in-out both; }
.fallPiece { position:absolute; will-change: transform, opacity; pointer-events:none; animation: fallDown 1600ms cubic-bezier(.2,.7,.3,1) forwards; z-index:9999; }
@keyframes fallDown {0%{opacity:1; transform:translateY(0) rotate(0deg) scale(1);}100%{opacity:0; transform:translateY(900px) rotate(720deg) scale(.8);}}
.particle { position:absolute; border-radius:50%; pointer-events:none; will-change: transform, opacity; z-index:9999;}
#codePopup { position:fixed; left:50%; top:50%; transform:translate(-50%,-50%); background: rgba(0,0,0,0.86); padding:22px; border-radius:12px; display:none; flex-direction:column; gap:10px; align-items:center; z-index:3000; box-shadow:0 0 30px rgba(0,0,0,0.6);}
#codePopup input { width:360px; max-width:86vw; padding:10px 12px; font-size:16px; border-radius:8px; border:none; }
#codePopup .codeRow { display:flex; gap:8px; }
#overlayBlock { position:fixed; left:0; top:0; right:0; bottom:0; background: rgba(0,0,0,0.4); display:none; z-index:2900; }
.centerMessage { position:fixed; left:50%; top:10%; transform:translateX(-50%); padding:14px 22px; background:rgba(0,0,0,0.7); border-radius:10px; font-size:20px; z-index:4000; box-shadow:0 0 22px rgba(255,255,255,0.08); }
@media (max-width:600px){ :root{ --tile-size:56px; } .letter{ font-size:20px; } }
</style>
</head>
<body>
<h1>Infinite Wordle</h1>
<div id="board"></div>
<div id="controls">
  <button id="newWordBtn">New Word</button>
  <button id="giveUpBtn">Give Up</button>
</div>
<div id="keyboard"></div>
<div id="overlayBlock" onclick="closeCodePopup()"></div>
<div id="codePopup">
  <div style="font-weight:bold">Enter Code</div>
  <input id="codeInput" type="text" placeholder="Type your code here" />
  <div class="codeRow">
    <button id="codeSubmitBtn">Submit</button>
    <button onclick="closeCodePopup()">Cancel</button>
  </div>
</div>
<script>
const WORDS=["apple","grape","table","chair","water","light","house","green","black","white","bread","plant","glass","stone","music","dance","happy","smile","laugh","story","piano","train","plane","truck","sheep","goose","tiger","zebra","horse","mouse","sleep","dream","cloud","rainy","storm","windy","snowy","sunny","beach","ocean","river","earth","world","space","stars","moons","rocks","trees","grass","field","books","penny","candy","honey","sugar","lemon","peach","berry","melon","mango","shoes","socks","shirt","pants","dress","skirt","jelly","salad","pizza","bread","spoon","forks","plate","knife","couch","rugby","bench","cabin","clock","watch","paper","chalk","paint","brush","draws","color","smell","taste","touch","sight","sound","north","south","above","below","front","after","first","other","small","large","round","short","longs","quick","light","darky","night","early","later","begin","start","again","never","often","happy","sadly","angry","funny","tired","sleep","dream","games","plays","sport","swims","runsy","jumps","climb","walks","rides","drive","bikes","boats","ships","train","plane","truck","carts","money","coins","store","shops","malls","parks","yards","grass","trees","woods","bushy","leafy","roots","fruit","seeds","stems","petal","brown","black","white","green","bluey","redly","pinky","yellow","drink","eater","taste","smell","touch","sound","sight","brain","heart","blood","lungs","tooth","mouth","hands","feets","heads","faces","smily","angry","sadly","funny","happy","jolly","cheer","laugh","silly","crazy","quiet","loudy","early","later","first","lasts","begin","start","again","never","often","other"];
let solution=WORDS[Math.floor(Math.random()*WORDS.length)];
let board, keyboard;
let currentRow=0, currentCol=0, inputLocked=false;
const SECRET_CODE="JiMmYiStHeCoOlEsTgUy|2025.letmecheat|L^UP++0U+L0UD";

window.addEventListener("load",()=>{
  board=document.getElementById("board"); keyboard=document.getElementById("keyboard");
  buildBoard(); createKeyboard();
  document.addEventListener("keydown",handleKey);
  document.addEventListener("keydown",detectSecretCode);

  document.getElementById("newWordBtn").onclick = () => location.reload();
  document.getElementById("giveUpBtn").onclick=()=>{alert("Word was: "+solution); resetGame();}
  document.getElementById("codeSubmitBtn").onclick=checkCode;
});

function buildBoard(){
  board.innerHTML="";
  for(let r=0;r<6;r++){
    const row=document.createElement("div"); row.className="row";
    for(let c=0;c<5;c++){
      const tile=document.createElement("div"); tile.className="tile";
      const inner=document.createElement("div"); inner.className="inner";
      const letter=document.createElement("div"); letter.className="letter";
      inner.appendChild(letter); tile.appendChild(inner); row.appendChild(tile);
    }
    board.appendChild(row);
  }
}

function createKeyboard(){
  const rows=["QWERTYUIOP","ASDFGHJKL","ZXCVBNM"];
  keyboard.innerHTML="";
  rows.forEach(r=>{
    const rowDiv=document.createElement("div"); rowDiv.className="kb-row";
    for(let ch of r){
      const btn=document.createElement("button"); btn.textContent=ch;
      btn.onclick=()=>handleKey({key:ch}); rowDiv.appendChild(btn);
    }
    keyboard.appendChild(rowDiv);
  });
  const lastRow=document.createElement("div"); lastRow.className="kb-row";
  const enterBtn=document.createElement("button"); enterBtn.textContent="Enter"; enterBtn.className="wide"; enterBtn.onclick=()=>handleKey({key:"Enter"});
  const backBtn=document.createElement("button"); backBtn.textContent="Backspace"; backBtn.className="wide"; backBtn.onclick=()=>handleKey({key:"Backspace"});
  lastRow.appendChild(enterBtn); lastRow.appendChild(backBtn);
  keyboard.appendChild(lastRow);
}

function getTile(r,c){return board.children[r].children[c];}

function handleKey(e){
  if(inputLocked) return;
  if(/^[a-zA-Z]$/.test(e.key) && currentCol<5){
    const tile=getTile(currentRow,currentCol); tile.querySelector(".letter").textContent=e.key.toUpperCase();
    tile.classList.add("keypress");
    setTimeout(()=>tile.classList.remove("keypress"),200);
    currentCol++;
  } else if(e.key==="Backspace" && currentCol>0){
    currentCol--; getTile(currentRow,currentCol).querySelector(".letter").textContent="";
  } else if(e.key==="Enter" && currentCol===5){
    submitRow();
  }
}

function submitRow(){
  let guess=""; for(let c=0;c<5;c++) guess+=getTile(currentRow,c).querySelector(".letter").textContent;
  if(guess.length<5) return; inputLocked=true;
  let solutionLetters=solution.split(""); let colors=Array(5).fill("absent");
  for(let i=0;i<5;i++) if(guess[i]===solution[i]){colors[i]="correct"; solutionLetters[i]=null;}
  for(let i=0;i<5;i++){if(colors[i]==="correct") continue; let idx=solutionLetters.indexOf(guess[i]); if(idx!==-1){colors[i]="present"; solutionLetters[idx]=null;}}
  [...guess].forEach((ch,idx)=>{
    setTimeout(()=>{
      const tile=getTile(currentRow,idx).querySelector(".inner");
      tile.classList.add("flipping");
      setTimeout(()=>{
        tile.classList.add(colors[idx]); tile.classList.remove("flipping");
        tile.classList.add(`glow-${colors[idx]}`);
        setTimeout(()=>tile.classList.remove(`glow-${colors[idx]}`),600);
        if(idx===4){
          inputLocked=false;
          if(guess===solution){
            let msg="";
            if(currentRow<2) msg="You've got HELL a good luck!";
            else if(currentRow===2) msg="Your luck is crazy!";
            else if(currentRow===3) msg="You are GOOD!";
            if(msg) showMessage(msg,1600);
            setTimeout(triggerVictorySequence,1600);
          } else{
            currentRow++; currentCol=0;
            if(currentRow===6) showMessage("Out of tries! Word was "+solution,2000);
          }
        }
      },300);
    },idx*400);
  });
}

function triggerVictorySequence(){
  document.body.classList.add("shakeBody");
  pulseBoardGlow();
  shatterBoard();
  spawnConfettiRain(150,0,0,window.innerWidth);
  spawnFloatingLetters(30,0,0,window.innerWidth,window.innerHeight);
  spawnSparkParticles(80,window.innerWidth/2,window.innerHeight/2);
  setTimeout(resetGame,2400);
}

function shatterBoard(){
  const pieces=[];
  board.querySelectorAll(".tile").forEach(t=>{
    const rect=t.getBoundingClientRect();
    const clone=t.cloneNode(true); clone.className="fallPiece";
    clone.style.left=rect.left+"px"; clone.style.top=rect.top+"px";
    clone.style.width=rect.width+"px"; clone.style.height=rect.height+"px";
    document.body.appendChild(clone); pieces.push(clone);
  });
  setTimeout(()=>pieces.forEach(p=>p.remove()),1800);
}

function spawnConfettiRain(count,x,y,width){
  for(let i=0;i<count;i++){
    const p=document.createElement("div"); p.className="particle"; const s=Math.random()*10+6;
    p.style.width=s+"px"; p.style.height=s+"px"; p.style.background=`hsl(${Math.random()*360},100%,65%)`;
    p.style.left=(x+Math.random()*width)+"px"; p.style.top=y+"px"; document.body.appendChild(p);
    p.animate([{transform:`translateY(${600+Math.random()*100}px) rotate(${Math.random()*720}deg)`,opacity:0}],{duration:1200+Math.random()*600,easing:"cubic-bezier(.2,.7,.3,1)"});
    setTimeout(()=>p.remove(),1600);
  }
}

function spawnFloatingLetters(count,x,y,w,h){
  for(let i=0;i<count;i++){
    const l=document.createElement("div"); l.textContent=WORDS[Math.floor(Math.random()*WORDS.length)][Math.floor(Math.random()*5)];
    l.style.position="absolute"; l.style.color="white"; l.style.fontWeight="bold"; l.style.fontSize="24px";
    l.style.left=(x+Math.random()*w)+"px"; l.style.top=(y+Math.random()*h)+"px"; document.body.appendChild(l);
    const t=1200+Math.random()*400; l.animate([{transform:`translateY(-${100+Math.random()*80}px)`,opacity:0}],{duration:t,easing:"ease-out"});
    setTimeout(()=>l.remove(),t);
  }
}

function spawnSparkParticles(count,x,y){
  for(let i=0;i<count;i++){
    const p=document.createElement("div"); p.className="particle"; const size=Math.random()*6+3;
    p.style.width=size+"px"; p.style.height=size+"px"; p.style.background="rgba(46,255,87,"+(Math.random()*0.8+0.2)+")";
    p.style.left=x+"px"; p.style.top=y+"px"; document.body.appendChild(p);
    const angle=Math.random()*2*Math.PI; const dist=Math.random()*300;
    const dx=Math.cos(angle)*dist; const dy=Math.sin(angle)*dist;
    p.animate([{transform:`translate(0px,0px)`,opacity:1},{transform:`translate(${dx}px,${dy}px)`,opacity:0}],{duration:800+Math.random()*400,easing:"ease-out"});
    setTimeout(()=>p.remove(),1200);
  }
}

function pulseBoardGlow(){board.style.boxShadow="0 0 22px rgba(255,255,255,0.22)"; setTimeout(()=>board.style.boxShadow="",1600);}
function showMessage(msg,dur){const m=document.createElement("div"); m.className="centerMessage"; m.textContent=msg; document.body.appendChild(m); setTimeout(()=>m.remove(),dur);}
function detectSecretCode(e){if(e.key===SECRET_CODE[currentCodeIndex]) currentCodeIndex++; else currentCodeIndex=0; if(currentCodeIndex===SECRET_CODE.length){alert("Cheat activated!"); currentCodeIndex=0;}}
let currentCodeIndex=0; function checkCode(){const val=document.getElementById("codeInput").value; if(val===SECRET_CODE){alert("Code Accepted!"); closeCodePopup(); resetGame();} else alert("Wrong code!");} function closeCodePopup(){document.getElementById("overlayBlock").style.display="none"; document.getElementById("codePopup").style.display="none";}
// Secret code
function detectSecretCode(e){if(e.ctrlKey&&e.shiftKey&&e.key.toUpperCase()==="A") showCodePopup();}
function showCodePopup(){document.getElementById("overlayBlock").style.display="block";document.getElementById("codePopup").style.display="flex";document.getElementById("codeInput").value="";}
function closeCodePopup(){document.getElementById("overlayBlock").style.display="none";document.getElementById("codePopup").style.display="none";}
function checkCode(){const val=document.getElementById("codeInput").value; if(val===SECRET_CODE){alert("The word is: "+solution); closeCodePopup();} else{alert("Wrong code!");}}
</script>
</body>
</html>

