<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Wordle Clone</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #111;
      color: #fff;
    }
    #board {
      display: grid;
      grid-template-rows: repeat(6, 1fr);
      gap: 5px;
      margin: 20px auto;
      width: max-content;
    }
    .row {
      display: grid;
      grid-template-columns: repeat(5, 60px);
      gap: 5px;
    }
    .tile {
      width: 60px;
      height: 60px;
      border: 2px solid #555;
      font-size: 2em;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #222;
      color: #fff;
    }
    .tile.correct { background: green; }
    .tile.present { background: goldenrod; }
    .tile.absent { background: #333; }
    #keyboard { margin-top: 20px; }
    .key {
      display: inline-block;
      margin: 2px;
      padding: 10px 14px;
      background: #444;
      border-radius: 5px;
      cursor: pointer;
      user-select: none;
    }
    #controls { margin-top: 20px; }
    #secretCodePopup {
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: #222;
      padding: 20px;
      border: 2px solid #fff;
      display: none;
    }
  </style>
</head>
<body>
  <h1>Wordle Clone</h1>
  <div id="board"></div>
  <div id="keyboard"></div>
  <div id="controls">
    <button id="newWordBtn">New Word</button>
    <button id="giveUpBtn">Give Up</button>
  </div>
  <div id="secretCodePopup">
    <p>Enter secret code:</p>
    <input type="text" id="codeInput"/>
    <button id="codeSubmitBtn">Submit</button>
  </div>

<script>
const WORDS = ["REACT","CODES","GAMES","HELLO","WORLD","DEBUG","SMART","TRAIN","LOGIC","BRAIN"];
let solution = "";
let currentRow = 0;
let currentCol = 0;
let board;
let keyboard;
let inputLocked = false;
const SECRET_CODE = "xyzzy";

function chooseWord(){
  solution = WORDS[Math.floor(Math.random()*WORDS.length)];
}

function buildBoard(){
  board.innerHTML = "";
  for(let r=0; r<6; r++){
    const row = document.createElement("div");
    row.className = "row";
    for(let c=0; c<5; c++){
      const tile = document.createElement("div");
      tile.className = "tile";
      row.appendChild(tile);
    }
    board.appendChild(row);
  }
}

function createKeyboard(){
  const keys = "QWERTYUIOPASDFGHJKLZXCVBNM";
  keyboard.innerHTML="";
  for(const k of keys){
    const key = document.createElement("div");
    key.className="key";
    key.textContent=k;
    key.onclick=()=>handleKey({key:k});
    keyboard.appendChild(key);
  }
  const enter=document.createElement("div");
  enter.className="key"; enter.textContent="ENTER";
  enter.onclick=()=>handleKey({key:"Enter"});
  keyboard.appendChild(enter);
  const back=document.createElement("div");
  back.className="key"; back.textContent="âŒ«";
  back.onclick=()=>handleKey({key:"Backspace"});
  keyboard.appendChild(back);
}

function handleKey(e){
  if(inputLocked) return;
  const key=e.key.toUpperCase();
  if(key==="BACKSPACE"){
    if(currentCol>0){
      currentCol--;
      board.children[currentRow].children[currentCol].textContent="";
    }
  } else if(key==="ENTER"){
    if(currentCol===5){
      submitGuess();
    }
  } else if(/^[A-Z]$/.test(key)){
    if(currentCol<5){
      board.children[currentRow].children[currentCol].textContent=key;
      currentCol++;
    }
  }
}

function submitGuess(){
  let guess="";
  for(let c=0;c<5;c++){
    guess+=board.children[currentRow].children[c].textContent;
  }
  if(guess.length<5) return;
  guess=guess.toUpperCase();
  const sol=solution.split("");
  const guessArr=guess.split("");
  for(let i=0;i<5;i++){
    const tile=board.children[currentRow].children[i];
    if(guessArr[i]===sol[i]){
      tile.classList.add("correct");
      sol[i]=null;
    }
  }
  for(let i=0;i<5;i++){
    const tile=board.children[currentRow].children[i];
    if(tile.classList.contains("correct")) continue;
    const idx=sol.indexOf(guessArr[i]);
    if(idx>=0){
      tile.classList.add("present");
      sol[idx]=null;
    } else {
      tile.classList.add("absent");
    }
  }
  if(guess===solution){
    setTimeout(()=>{ alert("You guessed it! Word: "+solution); resetGame();},500);
    inputLocked=true;
    return;
  }
  currentRow++;
  currentCol=0;
  if(currentRow===6){
    setTimeout(()=>{ alert("Out of guesses! Word was: "+solution); resetGame();},500);
    inputLocked=true;
  }
}

function resetGame(){
  chooseWord();
  currentRow=0; currentCol=0;
  inputLocked=false;
  buildBoard();
}

function detectSecretCode(e){
  if(e.key==="/" && e.ctrlKey){
    openCodePopup();
  }
}

function openCodePopup(){
  document.getElementById("secretCodePopup").style.display="block";
}
function closeCodePopup(){
  document.getElementById("secretCodePopup").style.display="none";
}
function checkCode(){
  const val=document.getElementById("codeInput").value.trim();
  if(val===SECRET_CODE){
    alert("Cheat: The word is " + solution);
    closeCodePopup();
  } else {
    alert("Invalid code");
  }
}

window.addEventListener("load",()=>{
  board=document.getElementById("board");
  keyboard=document.getElementById("keyboard");
  chooseWord();
  buildBoard();
  createKeyboard();
  document.addEventListener("keydown",handleKey);
  document.addEventListener("keydown",detectSecretCode);
  document.getElementById("newWordBtn").onclick=resetGame;
  document.getElementById("giveUpBtn").onclick=()=>{alert("Word was: "+solution); resetGame();};
  document.getElementById("codeSubmitBtn").onclick=checkCode;
});
</script>
</body>
</html>
